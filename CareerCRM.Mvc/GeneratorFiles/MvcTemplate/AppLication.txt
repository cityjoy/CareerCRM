using System;
using System.Collections.Generic;
using System.Linq;
using $projectName$.App.Interface;
using $projectName$.App.Request;
using $projectName$.App.Response;
using $projectName$.App.SSO;
using $projectName$.Repository.Domain;
using $projectName$.Repository.Interface;


namespace $projectName$.App
{
    public class $modelname$App : BaseApp<$modelname$>
    {
        private IAuth _auth;

        public $modelname$App(IUnitWork unitWork, IRepository<$modelname$> repository, IAuth auth) : base(unitWork, repository)
        {
            _auth = auth;
        }
        /// <summary>
        /// 加载列表
        /// </summary>
        public TableData Load($modelname$ListReq request)
        {
            var loginUser = _auth.GetCurrentUser();
            var $modelname$List = Repository.Find(request.page, 10).ToList();
            var records = Repository.GetCount();
            return new TableData
            {
                count = records,
                data = $modelname$List,
            };
        }
		/// <summary>
        /// 更新
        /// </summary>
        /// <param name="obj"></param>
        public void Update($modelname$FormDTO obj)
        {
            Repository.Update(u => u.Id == obj.Id, u => new $modelname$
            {
                $modelnameFormDTOFilds$

            });

        }
		 

    }
}